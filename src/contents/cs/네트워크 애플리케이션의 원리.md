---
title: 네트워크 애플리케이션의 원리
date: 2022-04-11 16:04:83
categories: ["CS"]
summary: "네트워크 애플리케이션 개발의 중심은 다른 종단 시스템에서 동작하고 네트워크를 통해 서로 통신하는 프로그램을 작성하는 것이다."
thumbnail: "../../static/test.png"
---

# 네트워크 애플리케이션의 원리

- 네트워크 애플리케이션 개발의 중심은 다른 종단 시스템에서 동작하고 네트워크를 통해 서로 통신하는 프로그램을 작성하는 것이다.
- 새로운 애플리케이션을 개발할 때는 여러 종단 시스템에서 실행 되는 소프트웨어를 작성할 필요가 있다.

# 네트워크 애플리케이션 구조

- 애플리케이션 구조는 애플리케이션 개발자에 의해 설계되고 애플리케이션이 다양ㅇ한 종단 시스템에서 어떻게 조직되어야 하는지를 지시한다.
- 일반적으로 개발자는 현대 네트워크 애플리케이션 두 가지 구조 중 우수한 구조중 하나를 선택해서 작성한다.
  - 클라이언트-서버 구조
  - P2P 구조

## 클라이언트-서버 구조

- 항상 켜져 있는 호스트를 서버(Sever)라 부르며, 클라이언트(client)라는 다른 많은 호스트의 요청을 받는다.
- 클라이언트-서버 구조에서 클라이언트는 서로 직접적으로 통신하지 않는다.
- 클라이언트-서버 구조는 서버가 고정 IP 주소라는 잘 알려진 주소를 갖는다.
- 클라이언트-서버 애플리케이션에서 하나의 서버 호스트가 자신의 클라이언트로부터의 모든 요청에 응답하는 것은 불가능하므로, 많은 수의 호스트를 갖춘 **데이터 센터(data center)가 강력한 가상 서버를 생성하는데 흔히 사용된다.**

## P2P 구조

- 항상 켜져 있는 기반구조 서버에 최소로 의존한다. 대신 애플리케이션을 **피어(peer)**라는 간헐적으로 연결된 호스트 쌍이 서로 직접 통신하도록 한다.
- 특정 서버를 통하지 않고 피어가 통신하므로 피어 투 피어(peer-to-peer)라고 한다.
- P2P 구조의 특성중 하나가 **자가 확장성(self-scalability)**이 있다는 점이다.
  - 피어들이 파일을 다른 피어들에게 분배함으로써 시스템에 서비스 능력을 추가한다.
- P2P 구조는 비용 효율적이다. (서버 기반구조와 서버 대역폭을 필요로 하지 않는다)
- 고도의 분산 구조 특성으로 인해 보안, 성능, 신뢰성에 도전을 맞고 있다.

# 프로세스 간 통신

- 실제 통신하는 것은 프로그램이 아니라 **프로세스(process)**다.
  - 프로세스는 종단 시스템에서 실행되는 프로그램이다.
  - 통신 프로세스가 같은 종단 시스템에 실행될 때 그들은 서로 프로세스간에 통신한다.
- 2개의 다른 종단 시스템에서 프로세스는 컴퓨터 네트워크를 통한 메시지 교환으로 서로 통신한다.

## 클라이언트와 서버 프로세스

- 네트워크 애플리케이션은 네트워크에서 서로 메시지를 보내는 두 프로세스로 구성된다.
  - 웹에서 브라우저는 클라이언트 프로세스, 웹 서버는 서버 프로세스이다.
  - P2P 파일공유에서는 파일을 내려받는 피어를 클라이언트라 하고 파일을 올리는 피어를 서버라 한다.
- 두 프로세스 간의 통신 세션에서 통신을 초기화(다른 프로세스와 세션을 시작하려고 접속을 초기화)하는 프로세스를 **클라이언트**라 하고, 세션을 시작하기 위해 접속을 기다리는 프로세스를 **서버**라고 한다.

## 프로세스와 컴퓨터 네트워크 사이의 인터페이스

- 프로세스는 소켓(socket)을 통해 네트워크로 메시지를 보내고 받는다.
  - 프로세스는 집(house)이고 소켓은 출입구(door)로 비유할 수 있다.
  - 프로세스가 메시지를 다른 호스트의 프로세스로 보내고 싶을 때, 출입구 바깥 네트워크로 메시지를 밀어낸다. 송신 프로세스는 네트워크를 거쳐 목적지 프로세스의 출입구로 메시지를 보내기 위해 송신 프로세스의 출입구 뒤편에 전송 구조가 있다고 가정하고, 메시지가 목적지 호스트에 도착하면, 메시지는 수신 프로세스의 출입구를 거치고 수신 프로세스는 메시지를 처리한다.
- **소켓은 애플리케이션 계층과 트랜스포트 계층 간 인터페이스이다.**
- 또한 소켓은 네트워크 애플리케이션이 인터넷에 만든 프로그래밍 인터페이스이므로, 애플리케이션과 네트워크 사이의 **API(Application Programming Interface)**라고도 한다.

## 프로세스 주소 배정

- 한 호스트상에서 수행되고 있는 프로세스가 패킷을 다른 호스트에서 수행되고 있는 프로세스로 패킷을 보내기 위해서는 수신 프로세스가 주소를 갖고 있을 필요가 있다.
- 수신 프로세스를 식별하기 위해, 두 가지 정보가 명시될 필요가 있다.
  1. 호스트 주소 (**IP 주소**)
  2. 목적지 호스트 내의 수신 프로세스 명시하는 식별자. (**포트 번호**)

# 애플리케이션 이용 가능한 트랜스포트 서비스

- 인터넷을 포함해 많은 네트워크들은 하나 이상의 트랜스포트 프로토콜을 제공하며, 애플리케이션 개발 시 사용 가능한 트랜스포트 프로토콜 중에서 하나를 선택해야 한다.
- 트랜스포트 계층 프로토콜이 그것을 이용하는 애플리케이션들에게 제공할 수 있는 서비스는, 다음과 같은 네 가지 차원에서 분류할 수 있다.
  - 신뢰적 데이터 전송
  - 처리율
  - 시간
  - 보안

## 신뢰적 데이터 전송

- 패킷들은 컴퓨터 네트워크 내에서 손실될 수 있다. (라우터 버퍼 오버플로우, 패킷 비트 오류 등) 따라서 애플리케이션이 보낸 데이터가 올바르고 완전히 다른 애플리케이션에 전달되도록 보장하기 위해 무엇인가 조치를 취해야 한다. 만약 프로토콜이 보장된 데이터 전송 서비스를 제공한다면 이를 **신뢰적 데이터 전송**을 제공한다고 한다.
- 트랜스포트 계층 프로토콜이 신뢰적 데이터 전송을 제공하지 않을때, 송신 프로세스가 보낸 데이터는 수신 프로세스에 도착하지 않을 수 있다. **손실 허용 애플리케이션(loss-tolerant application, 오디오/비디오 같은 멀티미디어 어플리케이션이 이에 해당한다) 에서는 받아들여질 수 있다.**

## 처리량

- **가용한 처리율**은 네트워크 경로를 따라 두 프로세스 간의 통신 세션에서 송신 프로세스가 수신 프로세스로 비트를 전달할 수 있는 비율을 나타낸다.
- 다른 세션들이 네트워크 경로를 따라 대역폭을 공유하고, 세션들이 생겼다 없어졌다 하기 때문에 가용한 처리율은 시간에 따라 변동한다.
- **대역폭 민감 애플리케이션(bandwidth-sensitive application)**은 처리율 요구사항을 가지는 애플리케이션을 말하며, 그렇지 않은 애플리케이션은 **탄력적 애플리케이션(elastic application)**이라 한다.

## 시간

- 트랜스포트 계층 프로토콜은 시간 보장(timing gurantee)을 제공할 수 있다.

## 보안

- 트랜스포트 프로토콜은 애플리케이션에 하나 이상의 보안 서비스를 제공할 수 있다.

# 인터넷 전송 프로토콜이 제공하는 서비스

- 인터넷 (일반적인 TCP/IP 네트워크)은 애플리케이션에 2개의 전송 프로토콜 UDP, TCP를 제공한다. 애플리케이션을 만들 때 첫 번째 결정해야 하는 것은 UDP 혹은 TCP 중 어느 것을 사용할지를 결정하는 것이다.

## TCP 서비스

- TCP 서비스 모델은 연결지향형 서비스와 신뢰적인 데이터 전송 서비스를 포함한다.
  **연결지향형 서비스**
  - 애플리케이션 계층 메시지를 전송하기 전에 TCP는 클라이언트와 서버가 서로 전송 제어 정보를 교환하도록 한다.(이 핸드셰이킹 과정이 클라이언트와 서버에 패킷이 도달할 것이니 준비하라고 알려주는 역할을 한다.)
  - 셰이킹 단계를 지나면 TCP 연결이 두 프로세스의 소켓 사이에 존재한다고 얘기한다. 이를 **전이증(full-duplex) 연결**이라 한다.
    **보안 TCP**
  - TCP나 UDP는 암호화를 제공하지 않는다.(중간에 탐지되어 유출될 가능성이 있다.)
  - 이를 강화하기 위해 SSL(Secure Scokets Layer)을 개발하였다. SSL은 TCP의 모든 일 뿐 아니라, 암호화 데이터 무결성, 종단 인증을 포함하는 중요한 프로세스 대 프로세스 보안 서비스를 제공한다.
    **신뢰적인 데이터 전송 서비스**
  - 통신 프로세스는 모든 데이터를 오류 없이 올바른 구조로 서로 전달하기 위해 TCP에 의존한다.
- TCP는 혼잡제어 방식, 통신하는 프로세스의 직접 이득보다는 인터넷 전체 성능 향상을 위한 서비스를 포함한다.(네트워크가 혼잡 상태에 이르면 프로세스 속도를 낮춘다.)

## UDP 서비스

- 최소 서비스 모델을 가진 간단한 전송 프로토콜이다.
- 비연결형이므로 두 프로세스가 통신하기 전에 핸드셰이킹을 하지 않는다.
- UDP는 비신뢰적인 데이터 전송 서비스를 제공한다. (메시지를 보내면 그 메시지가 수신 소켓에 도착하는 것을 보장하지 않으며, 메시지들의 순서가 바뀔수도 있다.)
- UDP는 혼잡제어 방식을 포함하지 않는다. UDP의 송신 측은 데이터를 원하는 속도로 하위 계층으로 보낼 수 있다.

---

### 참고 문헌

James F.Kurose & Keith W.Ross. (2017). 표제 : 컴퓨터 네트워킹 하양식 접근 (제7판) (최종원, 강현국, 신용태, 안상현, 유영환 & 황호영 옮김). (퍼스트북)
